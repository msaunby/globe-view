<html>
<head>
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
	<style>#xsliderA { margin: 10px; position: absolute; top:0px; left: 10%; width: 80% }</style>
	<style>#ysliderA { margin: 10px; position: absolute; top:5%; height: 80%;}</style>
	<style>#xsliderB { margin: 10px; position: absolute; top:0px; left: 10%; width: 80% }</style>
	<style>#ysliderB { margin: 10px; position: absolute; top:5%; height: 80%;}</style>
	<style>#zslider { margin: 10px;}</style>
	<link href='drop.css' rel='stylesheet' />
</head>
<body>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="extras/three.min.js"> </script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
	<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="u57zi4xypsxmdba"></script>
	<div class='container'>
	  <script>
	    var clip_w = 0;//1920;
            var clip_h = 0;//1080;                                                                                                                                                                     
	  </script>
	  <video id="video" autoplay loop="loop" style="display:none">
	    <!-- source src="clips/spherical.2013-HD.webm" -->
          </video>
	</div>
	<div class='container'>
		<div class='row'>
			<div class='col-md-8'>
			  <div id="globediv"></div>
			  <div id="ysliderA"></div>
			  <div id="xsliderA"></div>

			</div>
			<div class='col-md-4'>
			  <!--
			  <div id="globedivB"></div>
			  <div id="xsliderB"></div>
			  <div id="ysliderB"></div>
			  -->
		    <p>Controls</p>
		    <button id="restart" onclick="restart();">[]</button> 
		    <button id="rew" onclick="skip(-10)">&lt;&lt;</button>
		    <button id="play" onclick="vidplay()">||</button>
		    <button id="fastFwd" onclick="skip(10)">&gt;&gt;</button>
		    <br>
		    <div id="dropbox_btn"></div>
		    <script>
		      // See https://www.dropbox.com/developers/dropins/chooser/js
		      // for detailed explaination.
		      
		      options = {
		      
		      // Required. Called when a user selects an item in the Chooser.
		      success: function(files) {
		         //jQuery( "#videosrc" ).val(files[0].link);
		         var video = jQuery("#video").get(0);
		         video.src = files[0].link;
		         video.addEventListener( "loadedmetadata", function (e) {
		            clip_w = this.videoWidth;
		            clip_h = this.videoHeight;
		            start_play();
		         }, false );
		      },
		      
		      // Optional. Called when the user closes the dialog without selecting a file
		      // and does not include any parameters.
		      cancel: function() {
		      
		      },
		      
		      // Optional. "preview" (default) is a preview link to the document for sharing,
		      // "direct" is an expiring link to download the contents of the file. For more
		      // information about link types, see Link types below.
		      linkType: "direct",
		      
		      // Optional. A value of false (default) limits selection to a single file, while
		      // true enables multiple file selection.
		      multiselect: false, // or true
		      
		      // Optional. This is a list of file extensions. If specified, the user will
		      // only be able to select files with these extensions. You may also specify
		      // file types, such as "video" or "images" in the list. For more information,
		      // see File types below. By default, all extensions are allowed.
		      extensions: ['.mp4', '.webm', '.wmv', '.mov'],
		      };

		      var button = Dropbox.createChooseButton(options);
		      document.getElementById("dropbox_btn").appendChild(button);
		    </script>

		    <span>zoom</span>
		    <div id="zslider"></div>
		    <script>
		      jQuery(function() {
			  jQuery( "#xsliderA" ).slider({max:180,min:-180});
			  jQuery( "#ysliderA" ).slider({orientation: 'vertical',max:90,min:-90});
			  jQuery( "#zslider" ).slider({max:100,min:0});
                      });

		      function vidplay() {
		        var video = jQuery("#video").get(0);
		        var button = document.getElementById("play");
		        if (video.paused) {
		          video.play();
		          button.textContent = "||";
		        } else {
		          video.pause();
		          button.textContent = ">";
		        }
		      }
		      
		      function restart() {
		        var video = jQuery("#video").get(0);
		        video.currentTime = 0;
		      }
		      
		      function skip(value) {
		        var video = jQuery("#video").get(0);
		        video.currentTime += value;
		      }      
		    </script>

		  </div>
		</div>
	</div>
	<script type='text/javascript' src='frontpage.js'></script>
	<script src="webgl.js"> </script>
</body>
</html>
